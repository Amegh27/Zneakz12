<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>
    <%= product.productName %> | Product Detail
  </title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />

  <style>
    body {
      margin: 0;
      font-family: 'Inter', sans-serif;
      background-color: #f8f9fa;
      color: #333;
    }

    .container {
      max-width: 1200px;
      margin: auto;
      padding: 30px 20px;
    }

    .breadcrumb-wrap {
      background-color: #f1f1f1;
      padding: 15px 0;
      margin-bottom: 30px;
    }

    .breadcrumb {
      font-size: 14px;
      color: #666;
    }

    .breadcrumb a {
      color: #007bff;
      text-decoration: none;
    }

    .breadcrumb span {
      margin: 0 6px;
    }

    .product-detail {
      display: flex;
      flex-wrap: wrap;
      gap: 40px;
      background: #fff;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);
    }

    .image-gallery {
      flex: 1;
      min-width: 300px;
    }

    .main-image {
      width: 100%;
      max-height: 400px;
      object-fit: contain;
      border-radius: 10px;
      margin-bottom: 10px;
      border: 1px solid #ddd;
    }

    .thumbnail-row {
      display: flex;
      gap: 10px;
      overflow-x: auto;
    }

    .thumbnail-row img {
      height: 60px;
      width: 60px;
      object-fit: cover;
      border-radius: 6px;
      border: 2px solid transparent;
      cursor: pointer;
      transition: border 0.3s ease;
    }

    .thumbnail-row img:hover {
      border-color: #28a745;
    }

    .product-info {
      flex: 1;
      min-width: 300px;
    }

    .title-detail {
      font-size: 24px;
      font-weight: 600;
      margin-bottom: 10px;
    }

    .product-rating {
      color: #ffb400;
      font-size: 14px;
      margin-bottom: 10px;
    }

    .product-price {
      font-size: 24px;
      color: #e91e63;
      margin-bottom: 20px;
    }

    .short-desc {
      font-size: 15px;
      color: #555;
      margin-bottom: 20px;
    }

    .product-details-list li {
      list-style: none;
      margin-bottom: 8px;
      font-size: 14px;
    }

    .detail-qty {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      border: 1px solid #ccc;
      padding: 5px 12px;
      border-radius: 6px;
      margin-top: 20px;
    }

    .product-actions {
      margin-top: 20px;
      display: flex;
      align-items: center;
      gap: 15px;
    }

    .button-add-to-cart {
      background: #28a745;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 6px;
      font-size: 15px;
      cursor: pointer;
      transition: background 0.3s;
    }

    .button-add-to-cart:hover {
      background: #218838;
    }

    .wishlist {
      font-size: 18px;
      color: #e91e63;
      cursor: pointer;
    }

    .product-meta {
      font-size: 14px;
      margin-top: 30px;
      color: #666;
    }

    .image-zoom-container {
      overflow: hidden;
      border-radius: 10px;
      border: 1px solid #ddd;
      max-height: 400px;
    }

    .image-zoom-container img {
      width: 100%;
      height: auto;
      transition: transform 0.3s ease;
    }

    .image-zoom-container:hover img {
      transform: scale(1.2);
      cursor: zoom-in;
    }


    @media (max-width: 768px) {
      .product-detail {
        flex-direction: column;
      }

      .thumbnail-row {
        justify-content: flex-start;
      }
    }
  </style>
</head>

<body>

  <div class="breadcrumb-wrap">
    <div class="container">
      <div class="breadcrumb">
        <a href="/">Home</a>
        <span>/</span> Product Detail Page
      </div>
    </div>
  </div>

  <div class="container">
    <div class="product-detail">

      <!-- IMAGE GALLERY -->
      <div class="image-gallery">
        <div class="image-zoom-container">
          <img class="main-image" src="/uploads/products/<%= product.productImage[0] %>" id="mainProductImage"
            alt="Main Product Image">
        </div>
        <div class="thumbnail-row">
          <% product.productImage.forEach((img, i)=> { %>
            <img src="/uploads/products/<%= img %>"
              onclick="document.getElementById('mainProductImage').src='/uploads/products/<%= img %>'">
            <% }) %>
        </div>
      </div>

      <!-- PRODUCT INFO -->
      <div class="product-info">
        <h2 class="title-detail">
          <%= product.productName %>
        </h2>
        <div class="product-rating">
          ★★★★☆ (25 reviews)
        </div>
        <div class="product-price">
          ₹<%= product.price %>
        </div>
        <div class="short-desc">
          <%= product.description %>
        </div>
        <ul class="product-details-list">
          <li><i class="fa fa-check-circle text-success"></i> 1 Year Brand Warranty</li>
          <li><i class="fa fa-refresh"></i> 30 Day Return Policy</li>
          <li><i class="fa fa-credit-card"></i> Cash on Delivery available</li>
        </ul>
        <div class="mt-3">
          <strong> Size:</strong><br>
          <% for(let size=7; size <=10; size++) { %>
            <button class="btn btn-outline-dark btn-sm m-1 size-btn" data-size="<%= size %>">
              <%= size %>
            </button>
            <% } %>
        </div>


        <div class="detail-qty">
          <i class="fa fa-minus"></i>
          <span id="quantity">1</span>
          <i class="fa fa-plus"></i>
        </div>



        <div class="product-actions">
          <button class="button-add-to-cart">Buy Now</button>
          <button class="button-add-to-cart">Add to Cart</button>
          <i class="fa fa-heart wishlist"></i>
        </div>

        <div class="product-meta">
          <p><strong>Stock Code:</strong> FWM15VKT</p>
          <p><strong>Tags:</strong>
            <%= category.name %>
          </p>
          <p><strong>Availability:</strong>
            <span class="<%= product.quantity < 10 ? 'text-danger' : 'text-success' %>">
              <%= product.quantity %> in stock
            </span>

          </p>
          <div class="row">
   <h4 class="mt-5">You may also like</h4>
<div class="row">
  <% if (relatedProducts && relatedProducts.length > 0) { %>
    <% relatedProducts.forEach(prod => { %>
      <div class="col-md-3">
        <div class="card">
          <img src="/uploads/products/<%= prod.productImage[0] %>" class="card-img-top" alt="<%= prod.productName %>">
          <div class="card-body">
            <h6 class="card-title"><%= prod.productName %></h6>
            <p class="card-text">₹<%= prod.price %></p>
            <a href="/product/<%= prod._id %>" class="btn btn-sm btn-outline-primary">View</a>
          </div>
        </div>
      </div>
    <% }) %>
  <% } else { %>
    <p>No related products found.</p>
  <% } %>
</div>



        </div>
      </div>
    </div>
  </div>
  <!-- Image Zoom Modal -->
  <div class="modal fade" id="imageZoomModal" tabindex="-1" aria-labelledby="zoomLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg">
      <div class="modal-content bg-transparent border-0">
        <div class="modal-body text-center">
          <img src="/uploads/products/<%= product.productImage[0] %>" id="zoomedImage" class="img-fluid rounded"
            alt="Zoomed Product Image">
        </div>
      </div>
    </div>
  </div>


 



  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>